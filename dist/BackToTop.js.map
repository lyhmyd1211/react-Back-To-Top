{"version":3,"sources":["../lib/BackToTop.jsx"],"names":["BackToTop","props","state","percent","current","animate","mainStyle","percentStyle","offsetTop","step","visiblePercent","isPercent","undefined","window","onscroll","setState","children","visible","animateHide","animateShow","scrollToTop","Array","isArray","map","child","index","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getScrollPercent, getScrollTop, ScrollToAnimate } from './utils';\nimport './BackToTop.css';\n\nclass BackToTop extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      percent: 0,\n      current: 0\n    };\n    this.animate =\n      this.props.animate || 'fade'; /**1、fade(default) 2、rotate 3、none */\n    this.mainStyle = this.props.mainStyle || {};\n    this.percentStyle = this.props.percentStyle || {};\n    this.offsetTop = this.props.offsetTop || 0;\n    this.step = this.props.step || 50;\n    this.visiblePercent =\n      this.props.visiblePercent > 0 ? this.props.visiblePercent : 1;\n    this.isPercent =\n      this.props.isPercent === undefined ? true : this.props.isPercent;\n  }\n  scrollToTop() {\n    ScrollToAnimate(this.props.offsetTop, this.props.step, this.state.current);\n  }\n  componentDidMount() {\n    if (window) {\n      window.onscroll = () => {\n        this.setState({\n          percent: getScrollPercent(this.props.offsetTop),\n          current: getScrollTop()\n        });\n        // this.setState({ current: getScrollTop() });\n      };\n    }\n  }\n  render() {\n    const { animate, children } = this.props;\n    let visible = this.state.percent >= this.visiblePercent;\n    let animateHide = 'c-animate-hide';\n    let animateShow = 'c-animate-show';\n    if (animate !== 'fade' && animate !== 'rotate') {\n      if (animate !== 'none') {\n        animateHide = 'fade-hide';\n        animateShow = 'fade-show';\n      }\n    } else {\n      animateHide = animate + '-hide';\n      animateShow = animate + '-show';\n    }\n    return (\n      <div\n        onClick={() => this.scrollToTop()}\n        className={'base-back-to-up ' + (visible ? animateShow : animateHide)}\n      >\n        {/* <Icon type=\"up-square\" className=\"to-top-icon\" /> */}\n        <div className=\"back-to-up-default\" style={this.mainStyle}>\n          {children ? (\n            Array.isArray(children) ? (\n              children.map(child, index => {\n                return <div key={index}>{child}</div>;\n              })\n            ) : (\n              children && <div>{children}</div>\n            )\n          ) : (\n            <div className=\"back-to-up-default-text\">\n              <span>UP</span>\n            </div>\n          )}\n\n          <div\n            className={\n              'to-up-percent' + (this.isPercent ? '' : ' percent-hide')\n            }\n            style={this.percentStyle}\n          >\n            {this.state.percent + '%'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default BackToTop;\n"],"file":"BackToTop.js"}